#!/usr/bin/perl -l

use strict;
use warnings;

use LWP::Simple;
use XML::XPath;

die "Usage: $0 abbr [abbr]..." unless @ARGV;

my $url     = 'http://acronyms.silmaril.ie/cgi-bin/xaa?';
my $acro    = '/acronym/found/acro';
my $counter = 0;
map {
    print '' if $counter;
    print;
    map {
        my $node = $_;
        my @val = map { $node->findvalue("$_/text()") } ( 'expan', 'comment' );
        $val[1] = "/* ${val[1]} */" if $val[1];
        print "@val";
    } XML::XPath->new( xml => get("$url$_") || '<e></e>' )->findnodes($acro)
      ;    # <e></e> is just en empty valid xml
    $counter++;
} @ARGV;
